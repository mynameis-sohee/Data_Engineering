

*********************

# **[Docker][01] 도커와 가상환경**

&nbsp;

* 도커와 가상환경의 **필요성**을 이해해봅니다.
* 도커와 가상환경의 **개념**과 각 개념의 **차이**를 이해해봅니다.
* 간단한 **가상환경 구축 방법**을 살펴봅니다.
* 간단한 **도커 명령어**를 살펴봅니다.

&nbsp;
&nbsp;

*********************
&nbsp;


## **도커와 가상환경의 필요성** 


한 대의 컴퓨터로 많은 프로젝트 작업 수행을 하는 경우가 많습니다.

이때, 각 프로젝트마다 필요한 설치파일 및 버전은 다를 수 있습니다.

그렇다면, A프로젝트에는 파이썬 이전 버전이 & B프로젝트는 파이썬 최신 버전이 설치되어야 구동된다고 가정해봅시다.

A프로젝트를 수행할 때는, 컴퓨터에 파이썬 이전 버전을 설치해두었다가, B프로젝트를 수행할 때는 버전을 업그레이드 해야 겠지요. 또, A프로젝트 수정이 필요하면 다시 파이썬을 다운그레이드 해야 할 것입니다. 참 복잡하지요.
이런 경우에, 우리는 한 대의 컴퓨터를 마치 여러 대 처럼 나눠, 프로젝트 환경을 각각 만들어줄 수 있겠다는 아이디어를 도출할 수 있어요.

이때 해결할 수 있는 것이 가상환경(VM)과 도커(Docker)입니다.

&nbsp;

*************************

&nbsp;

## **가상환경**
### **가상환경이란?**

말 그대로, 내 컴퓨터 로컬에 종속된 새로운 환경을 구축하는 것입니다.

새로운 환경마다, 필요한 파일을 설치하는 것이지요.

가상환경을 사용할 경우, 각 프로젝트마다 독립적으로 설치파일을 실행할 수 있습니다.

번거롭게 업그레이드와 다운그레이드 & 설치와 삭제를 반복할 필요가 없습니다.

### **간단한 가상환경 구축법 살펴보기**
추후 자세히 다룰 테지만, 우선적으로 가장 큰 개념의 가상환경 구축법을 살펴보아요.

```powershell
# 가상환경 확인
conda env list

# 'project1'이라는 가상환경(VM) 구축
conda create --name project1

# 가상환경 활성화
conda activate project1

# 가상환경 비활성화
conda deactivate project1
```

&nbsp;

********************

&nbsp;

## **도커(Docker)**

### **도커(Docker)란?**

만약 프로젝트1을 수행하기 위해, A & B & C 설치환경이 필요하다고 합시다.

컴퓨터를 새로 구매한 경우에는 A & B & C를 또 일일이 설치해야 겠지요. 친구와 프로젝트1을 함께 수행하는 경우에는, 친구의 컴퓨터에도 A & B & C를 일일이 설치해야 프로젝트1을 수행할 수 있을 겁니다.

이런 경우, 우리는 필요한 A & B & C 설치환경을 사진처럼 촬영해, 도커허브에 저장합니다. 그리고, 이 파일을 설치해야 하는 환경에 허브에 올린 사진을 다운로드합니다. 마치 클라우드드라이브에 저장한 파일을 어느 컴퓨터에서든 내려받는 것처럼요.

이렇게 이미지를 저장하면, 도커는 자동적으로 우리의 컴퓨터에 독립적 설치공간(도커 컨테이너)을 생성하고, 그 공간에 (이미지에 저장된) 파일을 설치해줍니다.

&nbsp;

### **간단한 도커 명령어 살펴보기**
도커 명령어는 이 외에도 아주 많습니다. 
추후 게시글을 통해, 찬찬히 살펴 볼 예정입니다.

그 전에, 우선적으로 어떤 형태로 명령어를 작동시키는지 대략적으로 살펴봅시다.


```powershell
#start
docker run -d -p 80:80 docker/getting-started

# 저장한 docker 이미지 확인
docker images
docker image ls

# docker 이미지 저장하기
# 순서: 계정/레포지토리명:태그
docker image pull docker/whalesay:latest

# container1이라는 컨테이너 안에, docker/whalesay:latest 이미지 열기(이미지는 다른 이미지여도 됩니다.)
docker container run --name container1 docker/whalesay:latest cowsay boo

# 컨테이너 확인
docker container ls -a
docker container ls

# 컨테이너 삭제
docker container rm container1

# 컨테이너 전체 삭제
codker container prune

# 이미지 삭제
docker image rm docker/whalesay

# docker 정보 확인
docker image inspect aibcontents/sc31:1.0

```

&nbsp;

### **가상환경과 도커 차이**

**가상환경은 Host Operating System에 접근해 PC 메모리를 직접적으로 사용하고, 도커는 그렇지 않다는 것**이 가장 큰 차이점입니다.

도커는 Host Operating System에 접근할 필요가 없기에, 가상환경보다 프로젝트 수행 속도가 빠릅니다.

가상환경은 Host Operating System에 접근해야 하기에, 컴퓨터의 메모리를 많이 차지하거든요. 그래서 대기업들의 대규모 프로젝트에서 도커가 자주 사용된다고 합니다.

그러나 모든 것이 장점이지는 않겠지요. 도커의 일부 기능은 Window에 지원하지 않기에, Window 유저는 리눅스 환경을 구축하는 것이 좋다고 하니 참고해주세요.

읽어주셔서 감사합니다.

&nbsp;
************
&nbsp;
📧 E-mail :   <eng.sohee@gmail.com> 


